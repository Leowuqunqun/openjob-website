---
sidebar_position: 1
---

# 延时任务

## 新增延时任务

![Add](assets/delay/add.png)

- 任务名称: 支持 128 个字符
- 任务描述: 支持 256 个字符
- 任务主题: 类似 RocketMq/Kafka Topic 概念，格式为英文字母、数字、.、_或-
  - 并发: 任务主题消费并发数
- 执行器: 任务执行器，与定时任务配置的处理器一样
- 失败主题: 失败 topic，消费失败满足条件的消息会存储在该主题。
  - 失败并发数: 失败主题，消费并发数
- 重试参数: 失败重试相关的参数。
  - 重试次数: 消息消费失败，最大重试次数
  - 重试间隔: 消息消费失败，重试间隔
- 缓存大小: 消费消息缓冲队列大小
- 超时时间: 任务超时时间，单位秒，超过该时间会重新调度一个新任务且终止之前的任务。

:::tip
- 失败主题开启时，消息消费失败且满足重试机制(重试次数和重试间隔)，系统会把该消息投递到失败主题继续重试消费，不会影响正常任务消费。
- 失败主题关闭时，消息消费失败且满足重试机制(重试次数和重试间隔)，系统会丢弃掉该消息。
- 用户根据业务实际场景选择是否开启失败主题。一般对应强依赖消息开启失败主题，非强依赖消息不开启。
:::

## 更新延时任务

![Update](assets/delay/update.png)

:::info
延时任务基本信息更新时，工作节点会立即收到更新通知，同时更新消费参数。
:::

## 复制延时任务

![Delete](assets/delay/copy.png)

:::info
基于现有延时任务快速创建一个新的延时任务。
:::

## 删除延时任务

![Delete](assets/delay/delete.png)

- 只支持单个删除延时任务，且删除前二次确认

:::danger
延时任务删除后不可恢复，请谨慎操作。
:::