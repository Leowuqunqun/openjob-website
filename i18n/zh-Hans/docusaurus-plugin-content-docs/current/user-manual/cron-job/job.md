---
sidebar_position: 1
---

# 任务管理

## 新增任务

![Add](assets/cron/add.png)

### 基本信息

- 命名空间: 选择合适的命名空间
- 应用名称: 选择合适的应用
- 任务名称: 支持 32 个字符
- 任务描述: 支持 128 个字符

### 执行器类型
执行器类型，支持三种：
  - processor: Java/Golang/PHP 通过代码实现的处理器
  - shell: shell script
  - http: http 请求，用于周期性请求某 HTTP 地址

### 任务参数类型
  - plaintext: 普通文本格式
  - json: JSON 格式任务参数
  - yaml: YAML 格式任务参数
  - properties: properties 格式任务参数

:::tip
json/yaml/properties 格式参数，必须在任务里面手动解析，任务里面获取的任务参数都是普通字符串。
:::

### 任务参数
不同的任务参数类型，填写不同的任务参数。

:::danger
任务参数类型必须与填写的任务参数格式一致，否则会导致参数解析异常。
:::

### 扩展参数类型
- plaintext: 普通文本格式
- json: JSON 格式扩展任务参数
- yaml: YAML 格式扩展任务参数
- properties: properties 格式扩展任务参数

> 扩展任务参数，一般用于传递任务通用参数，类似 HTTP 头部 header 参数。

:::tip
json/yaml/properties 格式参数，必须在任务里面手动解析，任务里面获取的任务参数都是普通字符串。
:::

### 扩展参数
不同的扩展任务参数类型，填写不同的扩展任务参数。

:::danger
扩展任务参数类型必须与填写的任务参数格式一致，否则会导致参数解析异常。
:::
### 表达式类型
  - 定时任务：按照配置时间表达式周期性执行任务。
  - 秒级任务：任务支持周期在 1-60 之间的任务。
  - 固定频率：固定一个间隔时间执行任务。
  - 一次性：指定的一个时刻执行一次任务，任务执行完成后，状态切换到关闭。

:::tip
- 根据业务实际场景选择合适的任务类型。
- 定时任务最小周期是一分钟。
:::

### 执行方式
  - 单机: 单机方式执行任务(调度的一个工作节点)。
  - 广播: 广播通知应用所有工作节点执行任务。
  - Map Reduce: MR 轻量级分布式计算方式执行任务，一般用于复杂的任务调度和计算场景。
  - 分片: 按任务分片策略调度不同工作节点执行任务。

### 执行策略
  - 丢弃: 当任务正在执行时 ，丢弃后续任务。
  - 覆盖: 当任务正在执行时 ，终止正在运行任务，重新执行后续任务。
  - 并发: 当任务正在执行时 ，后续任务一起并发执行，具体并发根据配置的并发数。

### 其它配置

- 失败重试次数: 任务失败时重试次数
- 失败重试间隔: 任务失败时重试间隔
- 并发: 任务并发数，同一个任务同时执行任务数。

:::tip
并发数同时决定 MR 子任务并发数。
:::

## 更新任务

![Update](assets/cron/update.png)

:::tip
更新任务表达式类型、执行方式、执行策略以及重试参数时，新产生的调度任务才会生效，更新之前的调度任务还是使用旧的配置信息。
:::
## 执行任务

![ExecuteOnece](assets/cron/execute-once.png)

手动执行一次任务，一般用于调试任务。手动执行任务，支持如下参数：
- 任务参数类型
- 任务参数
- 扩展参数类型
- 扩展参数

:::info
手动执行任务不支持填写其它参数。
:::

## 复制任务

![Copy](assets/cron/copy.png)

:::info
基于现有任务快速创建一个新任务。
:::

## 删除任务

![Delete](assets/cron/delete.png)

- 只支持单个删除命任务，且删除前二次确认

:::danger
任务删除后不可恢复，请谨慎操作。
:::